# 登陆
使用账户密码登录，
账户密码提交到服务器，（只有第一次会提交），密码一般都是加密后的，通过md5
登录成功返回token。
在本地存储存储token。
在除login外所有页面判断是否有token，
  没有则跳转到login页（附带之前的页面路径）。
在login页面判断是否有token，
  有，则跳转到回之前的页面，
  若没有，当login页登陆成功，则跳回之前的页面，没有记录则跳回首页。

本地存储
寄存器
内存
硬盘
本地存储是存在硬盘的，所以不会随着程序关系消失。
cookie和localStorage
下包 js-cookie
document.cookie本身是字符串
js-cookie可以让我们用对象的方式访问cookie
Cookie.get(name)
Cookies.set(name,value)
value依旧会是字符串，意味着get出来时需要进行JSON.parse。
封装
roadhog 
配置webpack
设置@

插件 dva-loading
实现全局的loading效果
 cnpm i dva-loading -S
 
  State Structure
  loading: {
    global: false,
    models: {
      users: false,
      todos: false,
      ...
    },
  }

日志 redux-logger
cnpm i -D redux-logger

  app.use({
    onAction:createLogger(),
    onError(e) {
      message.error(e.message, /* duration */3);
    },
  });//redux打印工具

更新试题接口
/exam/questions/update
只能更新自己创建的试题,且必须附带更新的属性

解决无法验证用户名是否存在问题
在后台文件夹app\controller\user\login.js下的
 23行处,修改判断条件如下
![解决无法验证用户名是否存在问题](..\img\userp.png)


# 权限管理 RBAC
role based access control
基于角色的权限访问管理
公司内部使用，
学校几千个人
角色可分为：院长、副院长、项目经理、讲师、学生等等几个。
公司的岗位基本固定：不同岗位拥有不同权限。
roler 角色表 （实体表）
user  用户表 （实体表）
access  权限表 （实体表）
roler+user=> user-roler  关系表
roler+access=>roler-access 关系表
用户-角色-权限


access和路由产生联系
用户登录完，获取用户权限信息，返回用户能访问的路由

403 ，404页面
403 access for bidden：没有权限，禁止页面
404 not found：页面不存在

登录完获取用户信息， 依靠access配置前端路由
登录成功，
设置登录态到redux，
获取用户信息，（userInfo）
，获取用户权限，根据用户id（user/new，传递userId），
存储用户信息（userInfo）和用户权限（view_authority）
通过用户权限获取用户可见的视图和不可访问的视图，渲染所有视图，
为不可访问视图重定向到403，
不存在视图转到404.

## 稍微拓展
拓展到按钮权限控制

## 导入\导出excel
借助:
插件xlsx
antd的Upload组件
Filereader 对象

## 退出登录
清除登录态
清除用户信息 userInfo
清除权限
跳转到登录页面

## 个人中心
显示userInfo内容
## 图片上传
上传图片到静态服务器,
返回图片地址
将地址传给数据库
|图片上传方式|方式|参数|
|-|-|-|
|fileReader|base64二进制数据|对象|
|FormData|链接地址||
### 请求头 Content-type
|type|种类|
|-|-|
|x-www-form-urlencoded|对象转成的字符串|
|application/json|json对象|
### 文件上传使用接口
https://github.com/jasonandjay/project
### 静态服务器
存储静态文件
通过链接访问
# 后台
有接口文档。

# 重构
重写代码 = 接锅
# 周期
约定项目完成时间
项目的提出
项目的上线

# 遇到的困难
dvaJS 和antd
antd自身的样式以及自身的API， 大大提高学习成本。
