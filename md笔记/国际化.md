#国际化
整体切换网页的语言,并且不刷新页面。
插件 react-intl
npm i react-intl -S
实现： 通过context向下传递对应文本。通过redux实现文本语言切换（locale）。

在src文件夹下新建lang文件夹,
创建zh-CN.js,和en-US.js.
js文件统一抛出一个对象，属性名相同，则属性值替换。
zh-CN.js
``` JavaScript
export default {
	'router.questions':'试题管理',
	'router.questions.add':'添加试题',
	'router.questions.type':'试卷分类',
	'router.questions.view':'查看试题',
	'router.user':'用户管理',
	'router.user.addUser':'添加用户',
	'router.user.userShow':'用户展示',
	'router.exam':'考试管理',
	'router.exam.add':'添加考试',
	'router.exam.list':'试卷列表',
	'router.class':'班级管理',
	'router.class.grade':'班级管理',
	'router.class.room':'教室管理',
	'router.class.student':'学生管理',
	'router.mark':'阅卷管理',
	'router.mark.classlist':'待批班级',
}
```
en-US.js
```javascript
export default {
	'router.questions':'QuestioviewnManage',
	'router.questions.add':'AddQuestions',
	'router.questions.type':'QuestionsType',
	'router.questions.view':'ViewQuestions',
	'router.user':'UserManagement',
	'router.user.addUser':'AddUser',
	'router.user.userShow':'UserDisplay',
	'router.exam':'ExamManagement',
	'router.exam.add':'AddExam',
	'router.exam.list':'VolumeList',
	'router.class':'ClassManagement',
	'router.class.grade':'GradeManagement',
	'router.class.room':'RoomManagement',
	'router.class.student':'StudentManagement',
	'router.mark':'MarkingManagement',
	'router.mark.classlist':'PendingClass',
}
```
封装国际化组件Intl
```JavaScript
import { connect } from "dva";
import { IntlProvider, addLocaleData } from "react-intl";
import en from "react-intl/locale-data/en";
import zh from "react-intl/locale-data/zh";
import zhCN from "@/lang/zh-CN.js";
import enUS from "@/lang/en-US.js";
const localMap = {
  en: enUS,
  zh: zhCN
};
addLocaleData([...en, ...zh]); //引入多环境的语言数据
function RouterView({ locale, children }){
	return (
    <IntlProvider locale={locale} messages={localMap[locale]}>
      {children}
    </IntlProvider>
  );
}
const mapState = state => ({ locale: state.global.locale });
export default connect(mapState)(RouterView);
```
写global.js文件 存储locale数据
```JavaScript
export default {
  //命名空间
  namespace: 'global',
  //模块内部状态
  state: {
		locale:'zh'
	},
  //同步操作
  reducers: {
    changeLocale(state, action) {
      return { ...state, locale:action.payload };
    },
  },

};

```


在组件中引入高阶组件 injectIntl ,
props上获取formatMessage 方法
调用方法传入带有对应id的对象{id:`router.user`}
```JavaScript
 injectIntl(LeftSide)
   const {
    intl: { formatMessage }
	} = props;
  <span>{formatMessage({ id: `router.${path}` })}</span>
```